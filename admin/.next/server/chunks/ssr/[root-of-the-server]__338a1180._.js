module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},72379,a=>{"use strict";var b=a.i(87298);let c=process.env.NEXT_PUBLIC_CAREERS_API_URL||"http://localhost:8081/api",d=b.default.create({baseURL:c,headers:{"Content-Type":"application/json"}});d.interceptors.request.use(a=>{let b=localStorage.getItem("candidate_token");return b&&(a.headers.Authorization=`Bearer ${b}`),a});let e=async(a,b)=>{let c=await d.post("/auth/login",{email:a,password:b});return c.data.access_token&&localStorage.setItem("candidate_token",c.data.access_token),c.data},f=async(a,b)=>(await d.post("/auth/register",{email:a,password:b})).data,g=async()=>{try{return(await d.get("/jobs")).data}catch(a){return console.error("Error fetching jobs:",a),[]}},h=async(a,b)=>await d.post(`/jobs/${a}/apply`,b),i=async a=>await d.post("/jobs",a),j=async(a,b)=>await d.patch(`/jobs/${a}`,b),k=async a=>await d.delete(`/jobs/${a}`);a.s(["applyToJob",0,h,"createJob",0,i,"deleteJob",0,k,"getJobs",0,g,"login",0,e,"register",0,f,"updateJob",0,j])},50167,a=>{"use strict";var b=a.i(49030),c=a.i(89957),d=a.i(54101),e=a.i(72379);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)({title:"",department:"commercial",location:"",type:"CDI",description:"",requirements:"",isActive:!0});(0,c.useEffect)(()=>{o()},[]);let o=async()=>{h(!0);try{let a=await (0,e.getJobs)();f(a)}catch(a){console.error("Failed to fetch jobs",a)}finally{h(!1)}},p=async a=>{a.preventDefault();try{k?await (0,e.updateJob)(k.id,m):await (0,e.createJob)(m),j(!1),l(null),r(),o()}catch(a){alert("Erreur lors de l'enregistrement"),console.error(a)}},q=async a=>{if(confirm("ÃŠtes-vous sÃ»r de vouloir supprimer cette offre ?"))try{await (0,e.deleteJob)(a),o()}catch(a){alert("Erreur lors de la suppression")}},r=()=>{n({title:"",department:"commercial",location:"",type:"CDI",description:"",requirements:"",isActive:!0})};return(0,b.jsx)("div",{style:{padding:"40px",background:"#f8fafc",minHeight:"100vh"},children:(0,b.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[(0,b.jsx)("h1",{style:{fontSize:"28px",fontWeight:"800",color:"#0f172a"},children:"Gestion des Offres"}),(0,b.jsx)("button",{onClick:()=>{l(null),r(),j(!0)},style:{background:"#00c9a7",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:"+ Nouvelle Offre"})]}),g?(0,b.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:"Chargement..."}):(0,b.jsxs)("div",{style:{display:"grid",gap:"20px"},children:[a.map(a=>(0,b.jsxs)("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[(0,b.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",margin:0},children:a.title}),(0,b.jsx)("span",{style:{fontSize:"12px",padding:"2px 8px",background:a.isActive?"#dcfce7":"#f1f5f9",color:a.isActive?"#166534":"#64748b",borderRadius:"20px",fontWeight:"600"},children:a.isActive?"Actif":"Inactif"})]}),(0,b.jsxs)("p",{style:{color:"#64748b",fontSize:"14px",margin:0},children:[a.department," â€¢ ",a.type," â€¢ ",a.location]})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,b.jsx)(d.default,{href:`/dashboard/careers/applications/${a.id}`,style:{textDecoration:"none",padding:"8px 16px",background:"#0f172a",color:"white",borderRadius:"6px",fontWeight:"500",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"},children:"ðŸ‘¥ Candidats"}),(0,b.jsx)("button",{onClick:()=>{l(a),n({title:a.title,department:a.department,location:a.location,type:a.type,description:a.description,requirements:Array.isArray(a.requirements)?a.requirements.join("\n"):a.requirements||"",isActive:a.isActive}),j(!0)},style:{padding:"8px 16px",border:"1px solid #cbd5e1",background:"white",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Modifier"}),(0,b.jsx)("button",{onClick:()=>q(a.id),style:{padding:"8px 16px",border:"1px solid #fee2e2",background:"#fef2f2",color:"#dc2626",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Supprimer"})]})]},a.id)),0===a.length&&(0,b.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:"Aucune offre pour le moment."})]}),i&&(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,b.jsxs)("div",{style:{background:"white",borderRadius:"16px",width:"600px",maxHeight:"90vh",overflowY:"auto",padding:"30px"},children:[(0,b.jsx)("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:k?"Modifier l'offre":"Nouvelle offre"}),(0,b.jsxs)("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Titre du poste"}),(0,b.jsx)("input",{required:!0,value:m.title,onChange:a=>n({...m,title:a.target.value}),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"DÃ©partement"}),(0,b.jsxs)("select",{value:m.department,onChange:a=>n({...m,department:a.target.value}),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"},children:[(0,b.jsx)("option",{value:"commercial",children:"Commercial"}),(0,b.jsx)("option",{value:"marketing",children:"Marketing"}),(0,b.jsx)("option",{value:"tech",children:"Tech & Produit"}),(0,b.jsx)("option",{value:"operations",children:"OpÃ©rations"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Contrat"}),(0,b.jsxs)("select",{value:m.type,onChange:a=>n({...m,type:a.target.value}),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"},children:[(0,b.jsx)("option",{value:"CDI",children:"CDI"}),(0,b.jsx)("option",{value:"CDD",children:"CDD"}),(0,b.jsx)("option",{value:"Freelance",children:"Freelance"}),(0,b.jsx)("option",{value:"Stage",children:"Stage"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Localisation"}),(0,b.jsx)("input",{required:!0,value:m.location,onChange:a=>n({...m,location:a.target.value}),placeholder:"ex: Moroni ou Remote",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Description"}),(0,b.jsx)("textarea",{required:!0,rows:4,value:m.description,onChange:a=>n({...m,description:a.target.value}),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"PrÃ©-requis (1 par ligne)"}),(0,b.jsx)("textarea",{required:!0,rows:4,value:m.requirements,onChange:a=>n({...m,requirements:a.target.value}),placeholder:"ExpÃ©rience B2B Anglais courant...",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"14px",cursor:"pointer"},children:[(0,b.jsx)("input",{type:"checkbox",checked:m.isActive,onChange:a=>n({...m,isActive:a.target.checked})}),"Offre active (visible sur le site)"]})}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[(0,b.jsx)("button",{type:"button",onClick:()=>j(!1),style:{padding:"12px 24px",borderRadius:"8px",border:"none",background:"#f1f5f9",cursor:"pointer",fontWeight:"600"},children:"Annuler"}),(0,b.jsx)("button",{type:"submit",style:{padding:"12px 24px",borderRadius:"8px",border:"none",background:"#0f172a",color:"white",cursor:"pointer",fontWeight:"600"},children:"Enregistrer"})]})]})]})})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__338a1180._.js.map