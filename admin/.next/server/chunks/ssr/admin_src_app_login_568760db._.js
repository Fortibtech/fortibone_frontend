module.exports=[64120,a=>{a.v({button:"login-module__kdNUiG__button",container:"login-module__kdNUiG__container",error:"login-module__kdNUiG__error",footer:"login-module__kdNUiG__footer",form:"login-module__kdNUiG__form",input:"login-module__kdNUiG__input",inputGroup:"login-module__kdNUiG__inputGroup",label:"login-module__kdNUiG__label",loginBox:"login-module__kdNUiG__loginBox",logo:"login-module__kdNUiG__logo",subtitle:"login-module__kdNUiG__subtitle",title:"login-module__kdNUiG__title"})},55018,a=>{"use strict";var b=a.i(49030),c=a.i(89957),d=a.i(81720),e=a.i(64120);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),t=async b=>{b.preventDefault(),q(""),s(!0);let c=`http://localhost:8081/api/auth/${f?"login":"register"}`,d=f?{email:h,password:j}:{email:h,password:j,firstName:l,lastName:n,profileType:"PRO"};try{let b=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!b.ok){let a="Erreur inconnue";try{a=(await b.json()).message||(f?"Identifiants incorrects":"Erreur inscription")}catch(c){a=`Erreur serveur (${b.statusText||b.status})`}throw Error(a)}let e=await b.json();localStorage.setItem("access_token",e.access_token),localStorage.setItem("user",JSON.stringify(e.user)),a.push("/dashboard")}catch(a){q(a.message||"Erreur de connexion")}finally{s(!1)}};return(0,b.jsx)("div",{className:e.default.container,children:(0,b.jsxs)("div",{className:e.default.loginBox,children:[(0,b.jsx)("div",{className:e.default.logo,children:"K"}),(0,b.jsx)("h1",{className:e.default.title,children:"KomoraLink Admin"}),(0,b.jsx)("p",{className:e.default.subtitle,children:f?"Connectez-vous pour accéder au dashboard":"Créer un compte Administrateur"}),p&&(0,b.jsx)("div",{className:e.default.error,children:p}),(0,b.jsxs)("form",{onSubmit:t,className:e.default.form,children:[!f&&(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[(0,b.jsxs)("div",{className:e.default.inputGroup,children:[(0,b.jsx)("label",{className:e.default.label,children:"Prénom"}),(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),className:e.default.input,placeholder:"Admin",required:!f})]}),(0,b.jsxs)("div",{className:e.default.inputGroup,children:[(0,b.jsx)("label",{className:e.default.label,children:"Nom"}),(0,b.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),className:e.default.input,placeholder:"Komora",required:!f})]})]}),(0,b.jsxs)("div",{className:e.default.inputGroup,children:[(0,b.jsx)("label",{className:e.default.label,children:"Email"}),(0,b.jsx)("input",{type:"email",value:h,onChange:a=>i(a.target.value),className:e.default.input,placeholder:"admin@komoralink.com",required:!0})]}),(0,b.jsxs)("div",{className:e.default.inputGroup,children:[(0,b.jsx)("label",{className:e.default.label,children:"Mot de passe"}),(0,b.jsx)("input",{type:"password",value:j,onChange:a=>k(a.target.value),className:e.default.input,placeholder:"••••••••",required:!0})]}),(0,b.jsx)("button",{type:"submit",className:e.default.button,disabled:r,style:{background:f?"#0f172a":"#00c9a7"},children:r?"Chargement...":f?"Se connecter":"Créer le compte"})]}),(0,b.jsx)("p",{className:e.default.footer,children:"© 2026 KomoraLink - FORTIBTECH"})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=admin_src_app_login_568760db._.js.map