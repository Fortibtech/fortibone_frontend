module.exports=[44652,a=>{a.v({active:"page-module___lgXAq__active",alertContent:"page-module___lgXAq__alertContent",alertDescription:"page-module___lgXAq__alertDescription",alertIcon:"page-module___lgXAq__alertIcon",alertItem:"page-module___lgXAq__alertItem",alertTime:"page-module___lgXAq__alertTime",alertTitle:"page-module___lgXAq__alertTitle",alertsCard:"page-module___lgXAq__alertsCard",alertsList:"page-module___lgXAq__alertsList",business:"page-module___lgXAq__business",chartCard:"page-module___lgXAq__chartCard",chartContent:"page-module___lgXAq__chartContent",chartHeader:"page-module___lgXAq__chartHeader",chartPeriod:"page-module___lgXAq__chartPeriod",chartPlaceholder:"page-module___lgXAq__chartPlaceholder",chartTitle:"page-module___lgXAq__chartTitle",chartsGrid:"page-module___lgXAq__chartsGrid",critical:"page-module___lgXAq__critical",dashboard:"page-module___lgXAq__dashboard",fadeIn:"page-module___lgXAq__fadeIn",kpiCard:"page-module___lgXAq__kpiCard",kpiGrid:"page-module___lgXAq__kpiGrid",kpiHeader:"page-module___lgXAq__kpiHeader",kpiIcon:"page-module___lgXAq__kpiIcon",kpiLabel:"page-module___lgXAq__kpiLabel",kpiTrend:"page-module___lgXAq__kpiTrend",kpiValue:"page-module___lgXAq__kpiValue",loading:"page-module___lgXAq__loading",negative:"page-module___lgXAq__negative",periodBtn:"page-module___lgXAq__periodBtn",positive:"page-module___lgXAq__positive",profileCount:"page-module___lgXAq__profileCount",profileIcon:"page-module___lgXAq__profileIcon",profileName:"page-module___lgXAq__profileName",profileStatCard:"page-module___lgXAq__profileStatCard",profileStatsGrid:"page-module___lgXAq__profileStatsGrid",revenue:"page-module___lgXAq__revenue",spin:"page-module___lgXAq__spin",spinner:"page-module___lgXAq__spinner",success:"page-module___lgXAq__success",transactions:"page-module___lgXAq__transactions",users:"page-module___lgXAq__users",warning:"page-module___lgXAq__warning"})},94133,a=>{"use strict";var b=a.i(49030),c=a.i(89957),d=a.i(54101),e=a.i(81720),f=a.i(44652);function g(){let a=(0,e.useRouter)(),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)({firstName:"",lastName:"",phoneNumber:"",city:"",country:""});(0,c.useEffect)(()=>{let a=localStorage.getItem("user");if(a){let b=JSON.parse(a);h(b),p({firstName:b.firstName||"",lastName:b.lastName||"",phoneNumber:b.phoneNumber||"",city:b.city||"",country:b.country||""})}},[]);let q=async()=>{l(!0),n(null);try{let a=localStorage.getItem("access_token"),b=await fetch("/api-proxy/users/profile",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(o)});if(!b.ok)throw Error("Erreur lors de la mise Ã  jour");let c=await b.json();h(c),localStorage.setItem("user",JSON.stringify(c)),n({type:"success",text:"Profil mis Ã  jour avec succÃ¨s !"}),j(!1)}catch(a){n({type:"error",text:a.message||"Erreur lors de la mise Ã  jour"})}finally{l(!1)}};return(0,b.jsxs)("div",{className:f.default.dashboard,children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"32px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.default,{href:"/",style:{color:"var(--color-gray-500)",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:"â† Retour au dashboard"}),(0,b.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"var(--color-gray-900)"},children:"ðŸ‘¤ Mon Profil"})]}),(0,b.jsx)("button",{onClick:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("user"),a.push("/login")},style:{padding:"10px 20px",backgroundColor:"var(--color-error)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},children:"ðŸšª DÃ©connexion"})]}),m&&(0,b.jsx)("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",backgroundColor:"success"===m.type?"var(--color-primary-50)":"rgba(239, 68, 68, 0.1)",color:"success"===m.type?"var(--color-primary)":"var(--color-error)"},children:m.text}),(0,b.jsxs)("div",{className:f.default.chartCard,children:[(0,b.jsxs)("div",{className:f.default.chartHeader,children:[(0,b.jsx)("h3",{className:f.default.chartTitle,children:"Informations personnelles"}),i?(0,b.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,b.jsx)("button",{onClick:()=>j(!1),style:{padding:"8px 16px",backgroundColor:"var(--color-gray-100)",color:"var(--color-gray-600)",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"Annuler"}),(0,b.jsx)("button",{onClick:q,disabled:k,style:{padding:"8px 16px",backgroundColor:"var(--color-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:k?"Enregistrement...":"ðŸ’¾ Enregistrer"})]}):(0,b.jsx)("button",{onClick:()=>j(!0),style:{padding:"8px 16px",backgroundColor:"var(--color-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"âœï¸ Modifier"})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginTop:"20px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"PrÃ©nom"}),i?(0,b.jsx)("input",{type:"text",value:o.firstName,onChange:a=>p({...o,firstName:a.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid var(--color-gray-200)",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}):(0,b.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:g?.firstName||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"Nom"}),i?(0,b.jsx)("input",{type:"text",value:o.lastName,onChange:a=>p({...o,lastName:a.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid var(--color-gray-200)",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}):(0,b.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:g?.lastName||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"Email"}),(0,b.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:g?.email||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"TÃ©lÃ©phone"}),i?(0,b.jsx)("input",{type:"tel",value:o.phoneNumber,onChange:a=>p({...o,phoneNumber:a.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid var(--color-gray-200)",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}):(0,b.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:g?.phoneNumber||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"Ville"}),i?(0,b.jsx)("input",{type:"text",value:o.city,onChange:a=>p({...o,city:a.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid var(--color-gray-200)",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}):(0,b.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:g?.city||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"Pays"}),i?(0,b.jsx)("input",{type:"text",value:o.country,onChange:a=>p({...o,country:a.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid var(--color-gray-200)",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}):(0,b.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:g?.country||"-"})]})]})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=admin_src_app_8212814c._.js.map