{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/admin/src/app/login/login.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"login-module__kdNUiG__button\",\n  \"container\": \"login-module__kdNUiG__container\",\n  \"error\": \"login-module__kdNUiG__error\",\n  \"footer\": \"login-module__kdNUiG__footer\",\n  \"form\": \"login-module__kdNUiG__form\",\n  \"input\": \"login-module__kdNUiG__input\",\n  \"inputGroup\": \"login-module__kdNUiG__inputGroup\",\n  \"label\": \"login-module__kdNUiG__label\",\n  \"loginBox\": \"login-module__kdNUiG__loginBox\",\n  \"logo\": \"login-module__kdNUiG__logo\",\n  \"subtitle\": \"login-module__kdNUiG__subtitle\",\n  \"title\": \"login-module__kdNUiG__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///D:/workspace/fortibone_frontend/admin/src/app/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport styles from './login.module.css';\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [isLogin, setIsLogin] = useState(true); // Toggle state\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setIsLoading(true);\r\n\r\n        const endpoint = isLogin ? '/api-proxy/auth/login' : '/api-proxy/auth/register';\r\n\r\n        const payload = isLogin\r\n            ? { email, password }\r\n            : { email, password, firstName, lastName, profileType: 'PRO' };\r\n\r\n        try {\r\n            const response = await fetch(endpoint, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                let errorMessage = 'Erreur inconnue';\r\n                try {\r\n                    const data = await response.json();\r\n                    errorMessage = data.message || (isLogin ? 'Identifiants incorrects' : 'Erreur inscription');\r\n                } catch (e) {\r\n                    errorMessage = `Erreur serveur (${response.statusText || response.status})`;\r\n                }\r\n                throw new Error(errorMessage);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            // Store token\r\n            localStorage.setItem('access_token', data.access_token);\r\n            // localStorage.setItem('user', JSON.stringify(data.user)); // Optional if backend sends user\r\n\r\n            // Redirect to dashboard\r\n            router.push('/dashboard');\r\n        } catch (err: any) {\r\n            setError(err.message || 'Erreur de connexion');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.loginBox}>\r\n                <div className={styles.logo}>K</div>\r\n                <h1 className={styles.title}>KomoraLink Admin</h1>\r\n                <p className={styles.subtitle}>\r\n                    {isLogin ? 'Connectez-vous pour accéder au dashboard' : 'Créer un compte Administrateur'}\r\n                </p>\r\n\r\n                {error && (\r\n                    <div className={styles.error}>\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit} className={styles.form}>\r\n                    {!isLogin && (\r\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px' }}>\r\n                            <div className={styles.inputGroup}>\r\n                                <label className={styles.label}>Prénom</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={firstName}\r\n                                    onChange={(e) => setFirstName(e.target.value)}\r\n                                    className={styles.input}\r\n                                    placeholder=\"Admin\"\r\n                                    required={!isLogin}\r\n                                />\r\n                            </div>\r\n                            <div className={styles.inputGroup}>\r\n                                <label className={styles.label}>Nom</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={lastName}\r\n                                    onChange={(e) => setLastName(e.target.value)}\r\n                                    className={styles.input}\r\n                                    placeholder=\"Komora\"\r\n                                    required={!isLogin}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className={styles.inputGroup}>\r\n                        <label className={styles.label}>Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            className={styles.input}\r\n                            placeholder=\"admin@komoralink.com\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={styles.inputGroup}>\r\n                        <label className={styles.label}>Mot de passe</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className={styles.input}\r\n                            placeholder=\"••••••••\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        className={styles.button}\r\n                        disabled={isLoading}\r\n                        style={{\r\n                            background: isLogin ? '#0f172a' : '#00c9a7' // Different color for register\r\n                        }}\r\n                    >\r\n                        {isLoading ? 'Chargement...' : (isLogin ? 'Se connecter' : 'Créer le compte')}\r\n                    </button>\r\n                </form>\r\n\r\n                {/* \r\n                <div style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                    <button\r\n                        onClick={() => setIsLogin(!isLogin)}\r\n                        style={{\r\n                            background: 'none',\r\n                            border: 'none',\r\n                            color: '#64748b',\r\n                            textDecoration: 'underline',\r\n                            cursor: 'pointer',\r\n                            fontSize: '14px'\r\n                        }}\r\n                    >\r\n                        {isLogin ? 'Pas de compte ? Créer un accès Admin' : 'Déjà un compte ? Se connecter'}\r\n                    </button>\r\n                </div>\r\n                */}\r\n\r\n                <p className={styles.footer}>\r\n                    © 2026 KomoraLink - FORTIBTECH\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}