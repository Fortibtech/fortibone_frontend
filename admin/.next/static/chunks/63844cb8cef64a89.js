(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73464,e=>{e.v({active:"page-module___lgXAq__active",alertContent:"page-module___lgXAq__alertContent",alertDescription:"page-module___lgXAq__alertDescription",alertIcon:"page-module___lgXAq__alertIcon",alertItem:"page-module___lgXAq__alertItem",alertTime:"page-module___lgXAq__alertTime",alertTitle:"page-module___lgXAq__alertTitle",alertsCard:"page-module___lgXAq__alertsCard",alertsList:"page-module___lgXAq__alertsList",business:"page-module___lgXAq__business",chartCard:"page-module___lgXAq__chartCard",chartContent:"page-module___lgXAq__chartContent",chartHeader:"page-module___lgXAq__chartHeader",chartPeriod:"page-module___lgXAq__chartPeriod",chartPlaceholder:"page-module___lgXAq__chartPlaceholder",chartTitle:"page-module___lgXAq__chartTitle",chartsGrid:"page-module___lgXAq__chartsGrid",critical:"page-module___lgXAq__critical",dashboard:"page-module___lgXAq__dashboard",fadeIn:"page-module___lgXAq__fadeIn",kpiCard:"page-module___lgXAq__kpiCard",kpiGrid:"page-module___lgXAq__kpiGrid",kpiHeader:"page-module___lgXAq__kpiHeader",kpiIcon:"page-module___lgXAq__kpiIcon",kpiLabel:"page-module___lgXAq__kpiLabel",kpiTrend:"page-module___lgXAq__kpiTrend",kpiValue:"page-module___lgXAq__kpiValue",loading:"page-module___lgXAq__loading",negative:"page-module___lgXAq__negative",periodBtn:"page-module___lgXAq__periodBtn",positive:"page-module___lgXAq__positive",profileCount:"page-module___lgXAq__profileCount",profileIcon:"page-module___lgXAq__profileIcon",profileName:"page-module___lgXAq__profileName",profileStatCard:"page-module___lgXAq__profileStatCard",profileStatsGrid:"page-module___lgXAq__profileStatsGrid",revenue:"page-module___lgXAq__revenue",spin:"page-module___lgXAq__spin",spinner:"page-module___lgXAq__spinner",success:"page-module___lgXAq__success",transactions:"page-module___lgXAq__transactions",users:"page-module___lgXAq__users",warning:"page-module___lgXAq__warning"})},21233,e=>{"use strict";var r=e.i(12578),o=e.i(90258),l=e.i(42769),a=e.i(58695),t=e.i(73464);function i(){let e=(0,a.useRouter)(),[i,n]=(0,o.useState)(null),[s,d]=(0,o.useState)(!1),[p,_]=(0,o.useState)(!1),[g,c]=(0,o.useState)(null),[u,x]=(0,o.useState)({firstName:"",lastName:"",phoneNumber:"",city:"",country:""});(0,o.useEffect)(()=>{let e=localStorage.getItem("user");if(e){let r=JSON.parse(e);n(r),x({firstName:r.firstName||"",lastName:r.lastName||"",phoneNumber:r.phoneNumber||"",city:r.city||"",country:r.country||""})}},[]);let m=async()=>{_(!0),c(null);try{let e=localStorage.getItem("access_token"),r=await fetch("/api-proxy/users/profile",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(u)});if(!r.ok)throw Error("Erreur lors de la mise Ã  jour");let o=await r.json();n(o),localStorage.setItem("user",JSON.stringify(o)),c({type:"success",text:"Profil mis Ã  jour avec succÃ¨s !"}),d(!1)}catch(e){c({type:"error",text:e.message||"Erreur lors de la mise Ã  jour"})}finally{_(!1)}};return(0,r.jsxs)("div",{className:t.default.dashboard,children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"32px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.default,{href:"/",style:{color:"var(--color-gray-500)",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:"â† Retour au dashboard"}),(0,r.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"var(--color-gray-900)"},children:"ðŸ‘¤ Mon Profil"})]}),(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("user"),e.push("/login")},style:{padding:"10px 20px",backgroundColor:"var(--color-error)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},children:"ðŸšª DÃ©connexion"})]}),g&&(0,r.jsx)("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",backgroundColor:"success"===g.type?"var(--color-primary-50)":"rgba(239, 68, 68, 0.1)",color:"success"===g.type?"var(--color-primary)":"var(--color-error)"},children:g.text}),(0,r.jsxs)("div",{className:t.default.chartCard,children:[(0,r.jsxs)("div",{className:t.default.chartHeader,children:[(0,r.jsx)("h3",{className:t.default.chartTitle,children:"Informations personnelles"}),s?(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsx)("button",{onClick:()=>d(!1),style:{padding:"8px 16px",backgroundColor:"var(--color-gray-100)",color:"var(--color-gray-600)",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"Annuler"}),(0,r.jsx)("button",{onClick:m,disabled:p,style:{padding:"8px 16px",backgroundColor:"var(--color-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:p?"Enregistrement...":"ðŸ’¾ Enregistrer"})]}):(0,r.jsx)("button",{onClick:()=>d(!0),style:{padding:"8px 16px",backgroundColor:"var(--color-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"âœï¸ Modifier"})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginTop:"20px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"PrÃ©nom"}),s?(0,r.jsx)("input",{type:"text",value:u.firstName,onChange:e=>x({...u,firstName:e.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid var(--color-gray-200)",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}):(0,r.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:i?.firstName||"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"Nom"}),s?(0,r.jsx)("input",{type:"text",value:u.lastName,onChange:e=>x({...u,lastName:e.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid var(--color-gray-200)",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}):(0,r.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:i?.lastName||"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"Email"}),(0,r.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:i?.email||"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"TÃ©lÃ©phone"}),s?(0,r.jsx)("input",{type:"tel",value:u.phoneNumber,onChange:e=>x({...u,phoneNumber:e.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid var(--color-gray-200)",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}):(0,r.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:i?.phoneNumber||"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"Ville"}),s?(0,r.jsx)("input",{type:"text",value:u.city,onChange:e=>x({...u,city:e.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid var(--color-gray-200)",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}):(0,r.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:i?.city||"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"var(--color-gray-500)",marginBottom:"6px"},children:"Pays"}),s?(0,r.jsx)("input",{type:"text",value:u.country,onChange:e=>x({...u,country:e.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid var(--color-gray-200)",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}):(0,r.jsx)("p",{style:{fontSize:"16px",color:"var(--color-gray-900)",fontWeight:"500"},children:i?.country||"-"})]})]})]})]})}e.s(["default",()=>i])}]);