(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,92355,e=>{"use strict";var t=e.i(74094),i=e.i(91205);let r=t.default.env.NEXT_PUBLIC_CAREERS_API_URL||"http://localhost:8081/api",o=i.default.create({baseURL:r,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=localStorage.getItem("candidate_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let n=async(e,t)=>{let i=await o.post("/auth/login",{email:e,password:t});return i.data.access_token&&localStorage.setItem("candidate_token",i.data.access_token),i.data},a=async(e,t)=>(await o.post("/auth/register",{email:e,password:t})).data,s=async()=>{try{return(await o.get("/jobs")).data}catch(e){return console.error("Error fetching jobs:",e),[]}},l=async(e,t)=>await o.post(`/jobs/${e}/apply`,t),d=async e=>await o.post("/jobs",e),p=async(e,t)=>await o.patch(`/jobs/${e}`,t),c=async e=>await o.delete(`/jobs/${e}`);e.s(["applyToJob",0,l,"createJob",0,d,"deleteJob",0,c,"getJobs",0,s,"login",0,n,"register",0,a,"updateJob",0,p])},93250,e=>{"use strict";var t=e.i(12578),i=e.i(90258),r=e.i(42769),o=e.i(92355);function n(){let[e,n]=(0,i.useState)([]),[a,s]=(0,i.useState)(!0),[l,d]=(0,i.useState)(!1),[p,c]=(0,i.useState)(null),[x,u]=(0,i.useState)({title:"",department:"commercial",location:"",type:"CDI",description:"",requirements:"",isActive:!0});(0,i.useEffect)(()=>{h()},[]);let h=async()=>{s(!0);try{let e=await (0,o.getJobs)();n(e)}catch(e){console.error("Failed to fetch jobs",e)}finally{s(!1)}},g=async e=>{e.preventDefault();try{p?await (0,o.updateJob)(p.id,x):await (0,o.createJob)(x),d(!1),c(null),b(),h()}catch(e){alert("Erreur lors de l'enregistrement"),console.error(e)}},f=async e=>{if(confirm("ÃŠtes-vous sÃ»r de vouloir supprimer cette offre ?"))try{await (0,o.deleteJob)(e),h()}catch(e){alert("Erreur lors de la suppression")}},b=()=>{u({title:"",department:"commercial",location:"",type:"CDI",description:"",requirements:"",isActive:!0})};return(0,t.jsx)("div",{style:{padding:"40px",background:"#f8fafc",minHeight:"100vh"},children:(0,t.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[(0,t.jsx)("h1",{style:{fontSize:"28px",fontWeight:"800",color:"#0f172a"},children:"Gestion des Offres"}),(0,t.jsx)("button",{onClick:()=>{c(null),b(),d(!0)},style:{background:"#00c9a7",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:"+ Nouvelle Offre"})]}),a?(0,t.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:"Chargement..."}):(0,t.jsxs)("div",{style:{display:"grid",gap:"20px"},children:[e.map(e=>(0,t.jsxs)("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[(0,t.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",margin:0},children:e.title}),(0,t.jsx)("span",{style:{fontSize:"12px",padding:"2px 8px",background:e.isActive?"#dcfce7":"#f1f5f9",color:e.isActive?"#166534":"#64748b",borderRadius:"20px",fontWeight:"600"},children:e.isActive?"Actif":"Inactif"})]}),(0,t.jsxs)("p",{style:{color:"#64748b",fontSize:"14px",margin:0},children:[e.department," â€¢ ",e.type," â€¢ ",e.location]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,t.jsx)(r.default,{href:`/dashboard/careers/applications/${e.id}`,style:{textDecoration:"none",padding:"8px 16px",background:"#0f172a",color:"white",borderRadius:"6px",fontWeight:"500",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"},children:"ðŸ‘¥ Candidats"}),(0,t.jsx)("button",{onClick:()=>{c(e),u({title:e.title,department:e.department,location:e.location,type:e.type,description:e.description,requirements:Array.isArray(e.requirements)?e.requirements.join("\n"):e.requirements||"",isActive:e.isActive}),d(!0)},style:{padding:"8px 16px",border:"1px solid #cbd5e1",background:"white",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Modifier"}),(0,t.jsx)("button",{onClick:()=>f(e.id),style:{padding:"8px 16px",border:"1px solid #fee2e2",background:"#fef2f2",color:"#dc2626",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Supprimer"})]})]},e.id)),0===e.length&&(0,t.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:"Aucune offre pour le moment."})]}),l&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{style:{background:"white",borderRadius:"16px",width:"600px",maxHeight:"90vh",overflowY:"auto",padding:"30px"},children:[(0,t.jsx)("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:p?"Modifier l'offre":"Nouvelle offre"}),(0,t.jsxs)("form",{onSubmit:g,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Titre du poste"}),(0,t.jsx)("input",{required:!0,value:x.title,onChange:e=>u({...x,title:e.target.value}),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"DÃ©partement"}),(0,t.jsxs)("select",{value:x.department,onChange:e=>u({...x,department:e.target.value}),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"},children:[(0,t.jsx)("option",{value:"commercial",children:"Commercial"}),(0,t.jsx)("option",{value:"marketing",children:"Marketing"}),(0,t.jsx)("option",{value:"tech",children:"Tech & Produit"}),(0,t.jsx)("option",{value:"operations",children:"OpÃ©rations"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Contrat"}),(0,t.jsxs)("select",{value:x.type,onChange:e=>u({...x,type:e.target.value}),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"},children:[(0,t.jsx)("option",{value:"CDI",children:"CDI"}),(0,t.jsx)("option",{value:"CDD",children:"CDD"}),(0,t.jsx)("option",{value:"Freelance",children:"Freelance"}),(0,t.jsx)("option",{value:"Stage",children:"Stage"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Localisation"}),(0,t.jsx)("input",{required:!0,value:x.location,onChange:e=>u({...x,location:e.target.value}),placeholder:"ex: Moroni ou Remote",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Description"}),(0,t.jsx)("textarea",{required:!0,rows:4,value:x.description,onChange:e=>u({...x,description:e.target.value}),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"PrÃ©-requis (1 par ligne)"}),(0,t.jsx)("textarea",{required:!0,rows:4,value:x.requirements,onChange:e=>u({...x,requirements:e.target.value}),placeholder:"ExpÃ©rience B2B Anglais courant...",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"14px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:x.isActive,onChange:e=>u({...x,isActive:e.target.checked})}),"Offre active (visible sur le site)"]})}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[(0,t.jsx)("button",{type:"button",onClick:()=>d(!1),style:{padding:"12px 24px",borderRadius:"8px",border:"none",background:"#f1f5f9",cursor:"pointer",fontWeight:"600"},children:"Annuler"}),(0,t.jsx)("button",{type:"submit",style:{padding:"12px 24px",borderRadius:"8px",border:"none",background:"#0f172a",color:"white",cursor:"pointer",fontWeight:"600"},children:"Enregistrer"})]})]})]})})]})})}e.s(["default",()=>n])}]);