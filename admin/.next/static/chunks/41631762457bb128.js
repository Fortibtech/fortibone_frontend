(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62598,e=>{e.v({button:"login-module__kdNUiG__button",container:"login-module__kdNUiG__container",error:"login-module__kdNUiG__error",footer:"login-module__kdNUiG__footer",form:"login-module__kdNUiG__form",input:"login-module__kdNUiG__input",inputGroup:"login-module__kdNUiG__inputGroup",label:"login-module__kdNUiG__label",loginBox:"login-module__kdNUiG__loginBox",logo:"login-module__kdNUiG__logo",subtitle:"login-module__kdNUiG__subtitle",title:"login-module__kdNUiG__title"})},86391,e=>{"use strict";var l=e.i(12578),t=e.i(90258),a=e.i(58695),i=e.i(62598);function s(){let e=(0,a.useRouter)(),[s,o]=(0,t.useState)(!0),[r,n]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[c,m]=(0,t.useState)(""),[p,_]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[g,N]=(0,t.useState)(!1),x=async l=>{l.preventDefault(),f(""),N(!0);let t=`http://localhost:8081/api/auth/${s?"login":"register"}`,a=s?{email:r,password:u}:{email:r,password:u,firstName:c,lastName:p,profileType:"PRO"};try{let l=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok){let e="Erreur inconnue";try{e=(await l.json()).message||(s?"Identifiants incorrects":"Erreur inscription")}catch(t){e=`Erreur serveur (${l.statusText||l.status})`}throw Error(e)}let i=await l.json();localStorage.setItem("access_token",i.access_token),localStorage.setItem("user",JSON.stringify(i.user)),e.push("/dashboard")}catch(e){f(e.message||"Erreur de connexion")}finally{N(!1)}};return(0,l.jsx)("div",{className:i.default.container,children:(0,l.jsxs)("div",{className:i.default.loginBox,children:[(0,l.jsx)("div",{className:i.default.logo,children:"K"}),(0,l.jsx)("h1",{className:i.default.title,children:"KomoraLink Admin"}),(0,l.jsx)("p",{className:i.default.subtitle,children:s?"Connectez-vous pour accéder au dashboard":"Créer un compte Administrateur"}),h&&(0,l.jsx)("div",{className:i.default.error,children:h}),(0,l.jsxs)("form",{onSubmit:x,className:i.default.form,children:[!s&&(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[(0,l.jsxs)("div",{className:i.default.inputGroup,children:[(0,l.jsx)("label",{className:i.default.label,children:"Prénom"}),(0,l.jsx)("input",{type:"text",value:c,onChange:e=>m(e.target.value),className:i.default.input,placeholder:"Admin",required:!s})]}),(0,l.jsxs)("div",{className:i.default.inputGroup,children:[(0,l.jsx)("label",{className:i.default.label,children:"Nom"}),(0,l.jsx)("input",{type:"text",value:p,onChange:e=>_(e.target.value),className:i.default.input,placeholder:"Komora",required:!s})]})]}),(0,l.jsxs)("div",{className:i.default.inputGroup,children:[(0,l.jsx)("label",{className:i.default.label,children:"Email"}),(0,l.jsx)("input",{type:"email",value:r,onChange:e=>n(e.target.value),className:i.default.input,placeholder:"admin@komoralink.com",required:!0})]}),(0,l.jsxs)("div",{className:i.default.inputGroup,children:[(0,l.jsx)("label",{className:i.default.label,children:"Mot de passe"}),(0,l.jsx)("input",{type:"password",value:u,onChange:e=>d(e.target.value),className:i.default.input,placeholder:"••••••••",required:!0})]}),(0,l.jsx)("button",{type:"submit",className:i.default.button,disabled:g,style:{background:s?"#0f172a":"#00c9a7"},children:g?"Chargement...":s?"Se connecter":"Créer le compte"})]}),(0,l.jsx)("p",{className:i.default.footer,children:"© 2026 KomoraLink - FORTIBTECH"})]})})}e.s(["default",()=>s])}]);